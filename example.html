<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Better Autocomplete</title>

<link rel="stylesheet" href="better-autocomplete/better-autocomplete.css" />

<style>

body {
  font: 12px 'Lucida Grande', Helvetica, Arial, Verdana, sans-serif;
}

input {
  width: 500px;
}

input.fetching {
  background: lightgrey;
}

</style>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="better-autocomplete/jquery.better-autocomplete.js"></script>
<script>

var cities = [
  'Stockholm',
  'New York',
  'Oslo',
  'San Fransisco',
  'Säffle',
  'Göteborg',
  'Mogadishu',
  'Washington',
  'Madrid',
  'Paris',
  'Arboga',
  'Moscow'
];

var colors = [
  {
    title: 'Red',
    description: 'The color of the heart.',
    group: 'Ground colors' // Grouping is supported with both local and remote resources
  },
  'Yellow', // You can even mix real result objects with plain strings
  {
    title: 'Green',
    description: 'If you look at your plants, they will likely be green.',
    group: 'Ground colors'
  }, {
    title: 'Pink',
    description: 'For ponies, it is a <em>very common</em> hair color.'
  }, {
    title: 'Blue',
    description: 'Color of the sky and the ocean, what else can I say?',
    group: 'Ground colors'
  }, {
    title: 'Beer',
    description: 'I know, I know, it may not be a color, but who cares? This is a demonstration and I wan\'t to have a long text that wraps.'
  }];

$(document).ready(function() {

  //Local source, string array
  $('#city').betterAutocomplete('init', cities, { charLimit: 1 }, {
    select: function(result) {
      $('#city').blur();
      alert('You selected ' + result.title);
    }
  });

  // Local source, results objects array
  $('#color').betterAutocomplete('init', colors, { charLimit: 1 }, {
    select: function(result) {
      $('#color').blur();
      alert('You selected ' + result.title);
    }
  });

  // A remote JSON resource
  $('#geonames').betterAutocomplete('init', 'http://ws.geonames.org/searchJSON', { maxHeight: 200 }, {
    processRemoteData: function(data) {
      if ($.type(data) == 'object' && $.isArray(data.geonames))
        return data.geonames;
      else
        return [];
    },
    themeResult: function(result) {
      output = '<h4>' + result.name + '</h4>';
      output += '<p>' + result.countryName + ' <em>(' + result.fclName + ')</em></p>';
      return output;
    },
    select: function(result) {
      $('#geonames').blur();
      alert('You selected ' + result.name);
    },
    getGroup: function(result) {
      if ($.type(result.countryName) == 'string' && result.countryName.length)
        return result.countryName;
    }
  });

});

</script>
</head>
<body>
<h1>Better Autocomplete demonstration</h1>

<h2>Local source, flat string array</h2>

<form>
  <label for="city">Please select a city</label><br />
  <input type="text" id="city" name="city" />
</form>

<h2>Local source, array of result objects</h2>

<form>
  <label for="color">Please select a color</label><br />
  <input type="text" id="color" name="color" />
</form>

<h2>Remote source, geonames.org JSON API</h2>

<form>
  <label for="geonames">Select a geographical location</label><br />
  <input type="text" id="geonames" name="geonames" />
</form>

</body>
</html>
